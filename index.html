<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rimi AI Assistant ğŸ›¡ï¸</title>
    <style>
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: #fffafb; display: flex; flex-direction: column; height: 100vh; }
        .header { background: white; padding: 15px; border-bottom: 2px solid #ff9a9e; text-align: center; }
        .avatar { width: 80px; height: 80px; border-radius: 50%; border: 3px solid #ff6b81; margin: 0 auto; overflow: hidden; }
        .avatar img { width: 100%; height: 100%; object-fit: cover; }
        .chat-box { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 80%; padding: 12px 18px; border-radius: 20px; font-size: 15px; }
        .rimi { background: white; align-self: flex-start; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
        .user { background: #ff9a9e; color: white; align-self: flex-end; }
        #shield-ui { background: #333; color: #00ff00; padding: 15px; text-align: center; display: none; margin: 10px; border-radius: 15px; font-family: monospace; }
        .btn-row { padding: 10px; display: flex; gap: 10px; }
        .btn { flex: 1; padding: 12px; border: none; border-radius: 25px; color: white; cursor: pointer; font-weight: bold; }
        .block-btn { background: #ff4757; } .assist-btn { background: #4caf50; }
    </style>
</head>
<body>

<div class="header">
    <div class="avatar"><img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Rimi"></div>
    <h2 style="color: #ff4757;">Rimi AI Shield ğŸ›¡ï¸</h2>
</div>

<div class="chat-box" id="chat">
    <div class="msg rimi">Namaste Himanshu ji! â¤ï¸ Aapka Spam Blocker active hai. Koi call check karun? ğŸ”</div>
</div>

<div id="shield-ui">Checking Caller... ğŸ”</div>

<div class="btn-row">
    <button class="btn assist-btn" onclick="startRimiAssistant()">Simulate Call ğŸ“</button>
</div>

<script>
    const spamKeywords = ["loan", "credit card", "offer", "insurance", "paisa"];

    function speak(t) { 
        const s = new SpeechSynthesisUtterance(t); s.lang = "hi-IN"; window.speechSynthesis.speak(s); 
    }

    function addMsg(t, c) {
        let d = document.createElement("div"); d.className = `msg ${c}`; d.innerText = t;
        document.getElementById("chat").appendChild(d);
    }

    function startRimiAssistant() {
        document.getElementById('shield-ui').style.display = "block";
        speak("Incoming call check kar rahi hoon Himanshu ji.");
        
        const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
        const rec = new SR(); rec.lang = 'hi-IN'; rec.start();

        rec.onresult = (e) => {
            const msg = e.results[0][0].transcript.toLowerCase();
            addMsg("Caller says: " + msg, "user");

            let isSpam = spamKeywords.some(word => msg.includes(word));
            
            if(isSpam) {
                let r = "Yeh Spam call hai! Main ise block kar rahi hoon. Bye!";
                speak(r); addMsg("Rimi: Spam Blocked! ğŸš«", "rimi");
            } else {
                let r = "Namaste, Himanshu ji busy hain. Main unki assistant Rimi hoon. Kya message dena hai?";
                speak(r); addMsg("Rimi: Handling Call... âœ…", "rimi");
            }
        };
    }
</script>
</body>
</html>
